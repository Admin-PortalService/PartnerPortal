@model IEnumerable<TestWebApplication.Models.ViewModels.Incident>

@{

    Layout = "_AdminLTE";
}

<html>
<head>

    <title>Report</title>

</head>
<body class="hold-transition sidebar-mini">
<div class="wrapper">
<section class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
             
                <!-- Main content -->
                <div class="invoice p-3 mb-3">
                    <!-- title row -->
                    <div class="row">
                        <div class="col-12">
                            <h4>
                                Incident Details Records
                              @*  <small class="float-right"></small>*@
                            </h4>
                        </div>
                        <!-- /.col -->
                    </div>
                    <!-- info row -->
                   @* <div class="row invoice-info">
                        <div class="col-sm-4 invoice-col">
                            Customer ID
                            <address>
                                <strong>Customer ID</strong><br>
                            </address>
                        </div>
                        <!-- /.col -->
                        <div class="col-sm-4 invoice-col">
                            Status
                            <address>
                                            <strong>Status</strong><br>
                            </address>
                        </div>
                        <!-- /.col -->
                        <div class="col-sm-4 invoice-col">
                            <b>Reported Date</b>
                            <br>
                            <b>From</b> FromDate
                            <b>To</b> ToDate
                        </div>
                        <!-- /.col -->
                    </div>*@
                    <!-- /.row -->
                    <!-- Table row -->
                    <div class="row">
                        <div class="col-12 table-responsive">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Title</th>
                                        <th>Category</th>
                                        <th>Project</th>
                                        <th>Module</th>
                                        <th>Priority</th>
                                        <th>Status</th>
                                        <th>Reported Date</th>
                                    </tr>
                                </thead>
                                <tbody>
                                       @foreach (var item in Model)
                                       {
                                         <tr>
                                                    <td><a bgcolor="#000310" asp-action="Detail" asp-route-id="@item.IssueID">@Html.DisplayFor(model => item.IssueID)</a></td>
                                             <td>@Html.DisplayFor(model => item.IssueTitle)</td>
                                             <td>@Html.DisplayFor(model => item.Category)</td>
                                             <td>
                                                    @foreach (var prj in @ViewBag.project)
                                                    {
                                                            if (@item.ProjectID == @prj.ProjectID)
                                                        {
                                                            @prj.ProjectDesc
                                                        }
                                                        }
                                                    </td>
                                                    <td>
                                                        @foreach (var mod in @ViewBag.module)
                                                        {
                                                            if (@item.ModuleID == @mod.ModuleID)
                                                            {
                                                                @mod.ModuleDesc
                                                            }
                                                        }
                                                    </td>
                                             <td>@Html.DisplayFor(model => item.Priority)</td>
                                             <td>@Html.DisplayFor(model => item.Status)</td>
                                             <td>@Html.DisplayFor(model => item.CreatedOn,"{0:MM/dd/yyyy}")</td>


                                                </tr>
                                            }
                                </tbody>
                            </table>
                        </div>
                        <!-- /.col -->
                    </div>
                    <!-- /.row -->

                            <br>  <br>
                    <!-- this row will not appear when printing -->
                    <div class="row no-print">
                        <div class="col-12">
                            <a href="#" target="_blank" class="btn btn-default"><i class="fas fa-print"></i> Print</a>
                                    @*IncidentDtlReport_print.html <a asp-area="" asp-controller="IncReport" asp-action="GeneratePDF">*@
                                    <a asp-area="" asp-controller="IncReport" asp-action="GeneratePDF" class="btn btn-primary float-right">
                                        <i class="fas fa-download"></i>Generate PDF</a>
                        </div>
                    </div>
                </div>
                <!-- /.invoice -->
            </div><!-- /.col -->
        </div><!-- /.row -->
    </div><!-- /.container-fluid -->
</section>
<!-- /.content -->
    </div>
          
</body>
</html>